# Домашнее задание к занятию "11.04 Микросервисы: масштабирование"

Вы работаете в крупной компанию, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps специалисту необходимо выдвинуть предложение по организации инфраструктуры, для разработки и эксплуатации.

## Задача 1: Кластеризация

Предложите решение для обеспечения развертывания, запуска и управления приложениями.
Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:
- Поддержка контейнеров;
- Обеспечивать обнаружение сервисов и маршрутизацию запросов;
- Обеспечивать возможность горизонтального масштабирования;
- Обеспечивать возможность автоматического масштабирования;
- Обеспечивать явное разделение ресурсов доступных извне и внутри системы;
- Обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т.п.

Обоснуйте свой выбор.

---

*Ответ*

Исходя из теоретической части, обеспечить горизонтальное и автоматическое масштабирование позволят только облачные технологии.

Поэтому в наших настоящих реалях я бы выбрал Yandex Cloud, 
в нем имеется Yandex Managed Service for Kubernetes который предоставляет окружение для удобного управления контейнерными приложениями с помощью Kubernetes в инфраструктуре Yandex Cloud.

Так же подсмотрел один вариант на стеке от HashiCorp

- Nomad - Простой и гибкий планировщик и оркестратор для развертывания и управления контейнерами и неконтейнерными приложениями в локальных и облачных средах в любом масштабе.
-   Nomad Autoscaler - горизонтальное автоматическое масштабирование приложений может быть достигнуто путем изменения количества выделений в группе задач на основе значения соответствующей метрики, такой как использование ЦП и памяти или количество открытых подключений.
-   Consul - использует идентификаторы служб и традиционные сетевые методы, чтобы помочь организациям безопасно подключать приложения, работающие в любой среде.
-   Vault - защищает, хранит и строго контролирует доступ к токенам, паролям, сертификатам, ключам шифрования для защиты секретов и других конфиденциальных данных с помощью пользовательского интерфейса, интерфейса командной строки или HTTP API.
-   Docker Swarm - интеграция с Nomad позволит создать кластер для непрерывной доставки приложений в контейнерах и обеспечением высокой доступности сервиса.

## Задача 2: Распределенный кэш * (необязательная)

Разработчикам вашей компании понадобился распределенный кэш для организации хранения временной информации по сессиям пользователей.
Вам необходимо построить Redis Cluster состоящий из трех шард с тремя репликами.

### Схема:

![11-04-01](https://user-images.githubusercontent.com/1122523/114282923-9b16f900-9a4f-11eb-80aa-61ed09725760.png)

---